var K=e=>{throw TypeError(e)};var V=(e,t,r)=>t.has(e)||K("Cannot "+r);var n=(e,t,r)=>(V(e,t,"read from private field"),r?r.call(e):t.get(e)),s=(e,t,r)=>t.has(e)?K("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),o=(e,t,r,i)=>(V(e,t,"write to private field"),i?i.call(e,r):t.set(e,r),r),d=(e,t,r)=>(V(e,t,"access private method"),r);var L=(e,t,r,i)=>({set _(c){o(e,t,c,r)},get _(){return n(e,t,i)}});import{s as M,p as y,M as Z,y as S,N as tt,g as f,a as H,O as et,z as rt,d as T,P as ot,Q as U,R as ht}from"./svelte-BtZcpeKS.js";var A,R,w,p,v,j,q,Y;let at=(Y=class{constructor(t,r){s(this,v);s(this,A,M());s(this,R);s(this,w,0);s(this,p,null);n(this,A).v=y(t),o(this,R,r)}get current(){return Z()?S(()=>(L(this,w)._++,n(this,w)===1&&d(this,v,j).call(this,!0),()=>{tt().then(()=>{L(this,w)._--,n(this,w)===0&&d(this,v,q).call(this)})})):n(this,w)===0&&(d(this,v,j).call(this,!1),d(this,v,q).call(this)),f(n(this,A))}},A=new WeakMap,R=new WeakMap,w=new WeakMap,p=new WeakMap,v=new WeakSet,j=function(t){o(this,p,n(this,R).call(this,r=>{H(n(this,A),y(r))},t)??null)},q=function(){n(this,p)!==null&&(n(this,p).call(this),o(this,p,null))},Y);new at(null,(e,t)=>{function r(){e(document.activeElement)}if(r(),!!t)return document.addEventListener("focusin",r),document.addEventListener("focusout",r),()=>{document.removeEventListener("focusin",r),document.removeEventListener("focusout",r)}});function ft(e,t){switch(e){case"post":S(t);break;case"pre":et(t);break}}function nt(e,t,r,i={}){const{lazy:c=!1}=i;let u=!c,h=Array.isArray(e)?[]:void 0;ft(t,()=>{const a=Array.isArray(e)?e.map(E=>E()):e();if(!u){u=!0,h=a;return}const $=rt(()=>r(a,h));return h=a,$})}function dt(e,t,r){nt(e,"post",t,r)}function lt(e,t,r){nt(e,"pre",t,r)}dt.pre=lt;const st=window;function bt(e){let t=e.activeElement;for(;t!=null&&t.shadowRoot;){const r=t.shadowRoot.activeElement;if(r===t)break;t=r}return t}function X(e,t,r,i){const c=Array.isArray(t)?t:[t];for(const u of c)e.addEventListener(u,r,i);return()=>{for(const u of c)e.removeEventListener(u,r,i)}}var z,C,m,x,g,D,G;class wt{constructor(t,r){s(this,g);s(this,z,M());s(this,C);s(this,m,0);s(this,x,null);n(this,z).v=y(t),o(this,C,r)}get current(){return Z()?S(()=>(L(this,m)._++,n(this,m)===1&&d(this,g,D).call(this,!0),()=>{tt().then(()=>{L(this,m)._--,n(this,m)===0&&d(this,g,G).call(this)})})):n(this,m)===0&&(d(this,g,D).call(this,!1),d(this,g,G).call(this)),f(n(this,z))}}z=new WeakMap,C=new WeakMap,m=new WeakMap,x=new WeakMap,g=new WeakSet,D=function(t){o(this,x,n(this,C).call(this,r=>{H(n(this,z),y(r))},t)??null)},G=function(){n(this,x)!==null&&(n(this,x).call(this),o(this,x,null))};function it(e={}){const{window:t=st}=e,r=e.document??(t==null?void 0:t.document);return new wt(null,(i,c)=>{function u(){r&&i(bt(r))}if(u(),!c||!t)return;const h=X(t,"focusin",u),a=X(t,"focusout",u);return()=>{h(),a()}})}it();function ut(e){return typeof e=="function"}function mt(e){return ut(e)?e():e}var l;class zt{constructor(t,r={box:"border-box"}){s(this,l,M(y({width:0,height:0})));var c,u;const i=r.window??st;n(this,l).v=y({width:((c=r.initialSize)==null?void 0:c.width)??0,height:((u=r.initialSize)==null?void 0:u.height)??0}),S(()=>{if(!i)return;const h=mt(t);if(!h)return;const a=new i.ResizeObserver($=>{for(const E of $){const B=r.box==="content-box"?E.contentBoxSize:E.borderBoxSize,J=Array.isArray(B)?B:[B];f(n(this,l)).width=J.reduce((N,Q)=>Math.max(N,Q.inlineSize),0),f(n(this,l)).height=J.reduce((N,Q)=>Math.max(N,Q.blockSize),0)}});return a.observe(h),()=>{a.disconnect()}})}get current(){return f(n(this,l))}get width(){return f(n(this,l)).width}get height(){return f(n(this,l)).height}}l=new WeakMap;function vt(e,t){if(ut(e)){const r=e;return r()??t??r()}return e??t??e}function gt(e,t){switch(e){case"post":S(t);break;case"pre":et(t);break}}function ct(e,t,r,i={}){const{lazy:c=!1}=i;let u=!c,h=Array.isArray(e)?[]:void 0;gt(t,()=>{const a=Array.isArray(e)?e.map(E=>E()):e();if(!u){u=!0,h=a;return}const $=rt(()=>r(a,h));return h=a,$})}function pt(e,t,r){ct(e,"post",t,r)}function xt(e,t,r){ct(e,"pre",t,r)}pt.pre=xt;var P,F;class kt{constructor(t){s(this,P,M(void 0));s(this,F);S(()=>{H(n(this,P),y(n(this,F))),o(this,F,t())})}get current(){return f(n(this,P))}}P=new WeakMap,F=new WeakMap;var O,W,k,I;class St{constructor(t,r={}){s(this,O);s(this,W,T(()=>vt(n(this,O))));s(this,k);s(this,I,T(()=>!f(n(this,W))||!n(this,k).current?!1:f(n(this,W)).contains(n(this,k).current)));o(this,O,t),o(this,k,it({document:r.document,window:r.window}))}get current(){return f(n(this,I))}}O=new WeakMap,W=new WeakMap,k=new WeakMap,I=new WeakMap;var _,b;class $t{constructor(t){s(this,_);s(this,b);o(this,_,t),o(this,b,Symbol(t))}get key(){return n(this,b)}exists(){return ot(n(this,b))}get(){const t=U(n(this,b));if(t===void 0)throw new Error(`Context "${n(this,_)}" not found`);return t}getOr(t){const r=U(n(this,b));return r===void 0?t:r}set(t){return ht(n(this,b),t)}}_=new WeakMap,b=new WeakMap;export{$t as C,zt as E,St as I,kt as P,dt as a,pt as w};
