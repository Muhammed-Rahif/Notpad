import{e as E,g as J,a as K,b as z,c as V,d as j,f as Z,h as ee,i as te,j as ne,k as X,m as $,l as W,r as _,n as N,s as ie,o as Q}from"./floating-ui_utils-DnlcegD8.js";function I(t,e,m){let{reference:o,floating:r}=t;const n=j(e),a=K(e),d=N(a),g=V(e),h=n==="y",c=o.x+o.width/2-r.width/2,s=o.y+o.height/2-r.height/2,f=o[d]/2-r[d]/2;let i;switch(g){case"top":i={x:c,y:o.y-r.height};break;case"bottom":i={x:c,y:o.y+o.height};break;case"right":i={x:o.x+o.width,y:s};break;case"left":i={x:o.x-r.width,y:s};break;default:i={x:o.x,y:o.y}}switch(z(e)){case"start":i[a]-=f*(m&&h?-1:1);break;case"end":i[a]+=f*(m&&h?-1:1);break}return i}const oe=async(t,e,m)=>{const{placement:o="bottom",strategy:r="absolute",middleware:n=[],platform:a}=m,d=n.filter(Boolean),g=await(a.isRTL==null?void 0:a.isRTL(e));let h=await a.getElementRects({reference:t,floating:e,strategy:r}),{x:c,y:s}=I(h,o,g),f=o,i={},l=0;for(let x=0;x<d.length;x++){const{name:u,fn:y}=d[x],{x:A,y:p,data:b,reset:w}=await y({x:c,y:s,initialPlacement:o,placement:f,strategy:r,middlewareData:i,rects:h,platform:a,elements:{reference:t,floating:e}});c=A??c,s=p??s,i={...i,[u]:{...i[u],...b}},w&&l<=50&&(l++,typeof w=="object"&&(w.placement&&(f=w.placement),w.rects&&(h=w.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:r}):w.rects),{x:c,y:s}=I(h,f,g)),x=-1)}return{x:c,y:s,placement:f,strategy:r,middlewareData:i}};async function Y(t,e){var m;e===void 0&&(e={});const{x:o,y:r,platform:n,rects:a,elements:d,strategy:g}=t,{boundary:h="clippingAncestors",rootBoundary:c="viewport",elementContext:s="floating",altBoundary:f=!1,padding:i=0}=E(e,t),l=J(i),u=d[f?s==="floating"?"reference":"floating":s],y=_(await n.getClippingRect({element:(m=await(n.isElement==null?void 0:n.isElement(u)))==null||m?u:u.contextElement||await(n.getDocumentElement==null?void 0:n.getDocumentElement(d.floating)),boundary:h,rootBoundary:c,strategy:g})),A=s==="floating"?{x:o,y:r,width:a.floating.width,height:a.floating.height}:a.reference,p=await(n.getOffsetParent==null?void 0:n.getOffsetParent(d.floating)),b=await(n.isElement==null?void 0:n.isElement(p))?await(n.getScale==null?void 0:n.getScale(p))||{x:1,y:1}:{x:1,y:1},w=_(n.convertOffsetParentRelativeRectToViewportRelativeRect?await n.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:A,offsetParent:p,strategy:g}):A);return{top:(y.top-w.top+l.top)/b.y,bottom:(w.bottom-y.bottom+l.bottom)/b.y,left:(y.left-w.left+l.left)/b.x,right:(w.right-y.right+l.right)/b.x}}const ce=t=>({name:"arrow",options:t,async fn(e){const{x:m,y:o,placement:r,rects:n,platform:a,elements:d,middlewareData:g}=e,{element:h,padding:c=0}=E(t,e)||{};if(h==null)return{};const s=J(c),f={x:m,y:o},i=K(r),l=N(i),x=await a.getDimensions(h),u=i==="y",y=u?"top":"left",A=u?"bottom":"right",p=u?"clientHeight":"clientWidth",b=n.reference[l]+n.reference[i]-f[i]-n.floating[l],w=f[i]-n.reference[i],O=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h));let P=O?O[p]:0;(!P||!await(a.isElement==null?void 0:a.isElement(O)))&&(P=d.floating[p]||n.floating[l]);const D=b/2-w/2,R=P/2-x[l]/2-1,C=$(s[y],R),T=$(s[A],R),S=C,L=P-x[l]-T,v=P/2-x[l]/2+D,B=X(S,v,L),M=!g.arrow&&z(r)!=null&&v!==B&&n.reference[l]/2-(v<S?C:T)-x[l]/2<0,k=M?v<S?v-S:v-L:0;return{[i]:f[i]+k,data:{[i]:B,centerOffset:v-B-k,...M&&{alignmentOffset:k}},reset:M}}}),le=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var m,o;const{placement:r,middlewareData:n,rects:a,initialPlacement:d,platform:g,elements:h}=e,{mainAxis:c=!0,crossAxis:s=!0,fallbackPlacements:f,fallbackStrategy:i="bestFit",fallbackAxisSideDirection:l="none",flipAlignment:x=!0,...u}=E(t,e);if((m=n.arrow)!=null&&m.alignmentOffset)return{};const y=V(r),A=j(d),p=V(d)===d,b=await(g.isRTL==null?void 0:g.isRTL(h.floating)),w=f||(p||!x?[Z(d)]:ee(d)),O=l!=="none";!f&&O&&w.push(...te(d,x,l,b));const P=[d,...w],D=await Y(e,u),R=[];let C=((o=n.flip)==null?void 0:o.overflows)||[];if(c&&R.push(D[y]),s){const v=ne(r,a,b);R.push(D[v[0]],D[v[1]])}if(C=[...C,{placement:r,overflows:R}],!R.every(v=>v<=0)){var T,S;const v=(((T=n.flip)==null?void 0:T.index)||0)+1,B=P[v];if(B)return{data:{index:v,overflows:C},reset:{placement:B}};let M=(S=C.filter(k=>k.overflows[0]<=0).sort((k,H)=>k.overflows[1]-H.overflows[1])[0])==null?void 0:S.placement;if(!M)switch(i){case"bestFit":{var L;const k=(L=C.filter(H=>{if(O){const F=j(H.placement);return F===A||F==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(F=>F>0).reduce((F,U)=>F+U,0)]).sort((H,F)=>H[1]-F[1])[0])==null?void 0:L[0];k&&(M=k);break}case"initialPlacement":M=d;break}if(r!==M)return{reset:{placement:M}}}return{}}}};function q(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function G(t){return ie.some(e=>t[e]>=0)}const re=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:m}=e,{strategy:o="referenceHidden",...r}=E(t,e);switch(o){case"referenceHidden":{const n=await Y(e,{...r,elementContext:"reference"}),a=q(n,m.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:G(a)}}}case"escaped":{const n=await Y(e,{...r,altBoundary:!0}),a=q(n,m.floating);return{data:{escapedOffsets:a,escaped:G(a)}}}default:return{}}}}};async function se(t,e){const{placement:m,platform:o,elements:r}=t,n=await(o.isRTL==null?void 0:o.isRTL(r.floating)),a=V(m),d=z(m),g=j(m)==="y",h=["left","top"].includes(a)?-1:1,c=n&&g?-1:1,s=E(e,t);let{mainAxis:f,crossAxis:i,alignmentAxis:l}=typeof s=="number"?{mainAxis:s,crossAxis:0,alignmentAxis:null}:{mainAxis:s.mainAxis||0,crossAxis:s.crossAxis||0,alignmentAxis:s.alignmentAxis};return d&&typeof l=="number"&&(i=d==="end"?l*-1:l),g?{x:i*c,y:f*h}:{x:f*h,y:i*c}}const fe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var m,o;const{x:r,y:n,placement:a,middlewareData:d}=e,g=await se(e,t);return a===((m=d.offset)==null?void 0:m.placement)&&(o=d.arrow)!=null&&o.alignmentOffset?{}:{x:r+g.x,y:n+g.y,data:{...g,placement:a}}}}},de=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:m,y:o,placement:r}=e,{mainAxis:n=!0,crossAxis:a=!1,limiter:d={fn:u=>{let{x:y,y:A}=u;return{x:y,y:A}}},...g}=E(t,e),h={x:m,y:o},c=await Y(e,g),s=j(V(r)),f=Q(s);let i=h[f],l=h[s];if(n){const u=f==="y"?"top":"left",y=f==="y"?"bottom":"right",A=i+c[u],p=i-c[y];i=X(A,i,p)}if(a){const u=s==="y"?"top":"left",y=s==="y"?"bottom":"right",A=l+c[u],p=l-c[y];l=X(A,l,p)}const x=d.fn({...e,[f]:i,[s]:l});return{...x,data:{x:x.x-m,y:x.y-o,enabled:{[f]:n,[s]:a}}}}}},me=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:m,y:o,placement:r,rects:n,middlewareData:a}=e,{offset:d=0,mainAxis:g=!0,crossAxis:h=!0}=E(t,e),c={x:m,y:o},s=j(r),f=Q(s);let i=c[f],l=c[s];const x=E(d,e),u=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(g){const p=f==="y"?"height":"width",b=n.reference[f]-n.floating[p]+u.mainAxis,w=n.reference[f]+n.reference[p]-u.mainAxis;i<b?i=b:i>w&&(i=w)}if(h){var y,A;const p=f==="y"?"width":"height",b=["top","left"].includes(V(r)),w=n.reference[s]-n.floating[p]+(b&&((y=a.offset)==null?void 0:y[s])||0)+(b?0:u.crossAxis),O=n.reference[s]+n.reference[p]+(b?0:((A=a.offset)==null?void 0:A[s])||0)-(b?u.crossAxis:0);l<w?l=w:l>O&&(l=O)}return{[f]:i,[s]:l}}}},ue=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var m,o;const{placement:r,rects:n,platform:a,elements:d}=e,{apply:g=()=>{},...h}=E(t,e),c=await Y(e,h),s=V(r),f=z(r),i=j(r)==="y",{width:l,height:x}=n.floating;let u,y;s==="top"||s==="bottom"?(u=s,y=f===(await(a.isRTL==null?void 0:a.isRTL(d.floating))?"start":"end")?"left":"right"):(y=s,u=f==="end"?"top":"bottom");const A=x-c.top-c.bottom,p=l-c.left-c.right,b=$(x-c[u],A),w=$(l-c[y],p),O=!e.middlewareData.shift;let P=b,D=w;if((m=e.middlewareData.shift)!=null&&m.enabled.x&&(D=p),(o=e.middlewareData.shift)!=null&&o.enabled.y&&(P=A),O&&!f){const C=W(c.left,0),T=W(c.right,0),S=W(c.top,0),L=W(c.bottom,0);i?D=l-2*(C!==0||T!==0?C+T:W(c.left,c.right)):P=x-2*(S!==0||L!==0?S+L:W(c.top,c.bottom))}await g({...e,availableWidth:D,availableHeight:P});const R=await a.getDimensions(d.floating);return l!==R.width||x!==R.height?{reset:{rects:!0}}:{}}}};export{ue as a,ce as b,oe as c,le as f,re as h,me as l,fe as o,de as s};
