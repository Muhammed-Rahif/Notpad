import{R as c}from"./svelte-BmRDRyvJ.js";function K(o,u){let{enabled:s=!0,trigger:a,type:l="keydown"}=u;function y(e){const t=Array.isArray(a)?a:[a],i={alt:e.altKey,ctrl:e.ctrlKey,shift:e.shiftKey,meta:e.metaKey};for(const p of t){const m={modifier:[],preventDefault:!1,enabled:!0,...p},{modifier:f,key:h,callback:d,preventDefault:b,enabled:w}=m;if(w){if(f.length&&!(Array.isArray(f)?f:[f]).map(n=>typeof n=="string"?[n]:n).some(n=>n.every(D=>i[D])))continue;if(e.key===h){b&&e.preventDefault();const g={node:o,trigger:m,originalEvent:e};o.dispatchEvent(new CustomEvent("shortcut",{detail:g})),d==null||d(g)}}}}let r;return s&&(r=c(o,l,y)),{update:e=>{const{enabled:t=!0,type:i="keydown"}=e;s&&(!t||l!==i)?r==null||r():!s&&t&&(r=c(o,i,y)),s=t,l=i,a=e.trigger},destroy:()=>{r==null||r()}}}export{K as s};
